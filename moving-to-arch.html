<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv='X-UA-Compatible' content='IE=edge;chrome=1' />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link href="/assets/style/pack.css" rel="stylesheet"> -->
    <link href="/assets/style/main.css" rel="stylesheet" />
    <script src="/assets/js/pack.js"></script>
    <title>thunk juice - Moving To Arch Linux: Humanity is Overrated</title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    <div id="main" role="main" class="main">
      <div id="headline">
  <div id="top-slice">
    <div id="titlebox">
      <h1 id="title-link"><a href="/" class="title">thunk juice</a></h1>
      <p id="subtitle" data-turbolinks-permanent></p>
    </div>
    <div id="logobox">
      <img src="/assets/img/mpga.png" id="mpga" alt="Mpga" />
    </div>
  </div>
  <div id="navbits">
    <a href="misc/me.html">me</a> |
    <a href="misc/site.html">site</a> |
    <a href="misc/contact.html">contact</a> |
    <a href="https://github.com/dradetsky">github</a> |
    <a href="https://bitbucket.org/dradetsky">bitbucket</a> |
    <a href="feed.xml">feed</a>
  </div>
</div>


        <div id="blogbox">
    <div id="article-col">
      <div class="articles-main">
          <article>
    <header>
      <h2 class="article-title">
        
        Moving To Arch Linux: Humanity is Overrated
      </h2>
    </header>
    <div class="article-body">
      <blockquote>
<p>&quot;Ubuntu&quot; comes from an ancient African word meaning: &quot;I can&#39;t
configure Debian.&quot;</p>

<p>-- <cite>Anonymous, 4chan /prog/</cite></p>
</blockquote>

<p><img src="moving-to-arch/arch.png" alt="Arch Logo"></p>

<p>It&#39;s been a long time coming, but I&#39;ve finally decided to move
to <a href="https://www.archlinux.org/">Arch Linux</a>, after using Ubuntu for
basically my whole professional life.</p>

<p>I originally switched to Ubuntu
from <a href="https://www.debian.org/">Debian</a>, for no better reason than back
then, getting things like sound cards and printing running smoothly
was a clusterfuck, and Ubuntu at least made those things easy. The
default Ubuntu UI was always garbage, but I didn&#39;t care. I&#39;ve been
using heavily-tweaked <a href="http://notion.sourceforge.net/">notion</a> as my
window manager for years (I&#39;ve tried xmonad, wmii, i3, stumpwm, and
others I can&#39;t remember; I always come back to notion). I would hear
occasionally some controversy about the latest shitty desktop
environment Canonical was forcing on its userbase, but it was another
world to me. My standard practice was to install Ubuntu, get a few
things working, rip out the Ubuntu garbage, and replace it with a real
UI. For the most part, it worked.</p>

<p>But as the years have gone by, I&#39;ve found Ubuntu more of a hinderance
than a help. The basic problem is that the more you try to make your
distro idiot-proof, the more you make it expert-proof too. I didn&#39;t
want a distro that made me spend shitloads of time mucking around with
unix guts just because I could. But since I can, I want a distro that
gets out of my way and lets me.</p>

<p>I always liked Arch from the beginning. It seemed like the right
thing. Hacker friendly without the disagreeable aspect of,
say, <a href="https://fun.irq.dk/funroll-loops.org/">Gentoo</a>. If it weren&#39;t
for the fact that multimedia was inconvenient back then, I&#39;d probably
have always used Arch.</p>

<p>Fast forward to today, the advantages of Ubuntu (for an expert) have
all but disappeared. I no longer find it easy to make things work. In
fact, I spend a great deal of my configuration time
translating <a href="https://wiki.archlinux.org/">Arch Wiki</a> instructions into
Ubuntu. And multimedia is trivial everywhere. Getting sound working on
my Arch install required installing
<a href="https://www.alsa-project.org/main/index.php/Main_Page">alsa</a>, and
nothing else.<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup></p>

<p>The biggest strike against Ubuntu is the difficulty of keeping
up-to-date, even with the most bleeding-edge version available. The
fact that the current standard version of Python is 3.6.1 is of no
account the Ubuntu package maintainers, who serve up 3.4.3 as if
nothing had or possibly could change. One can always use
the <a href="https://launchpad.net/ubuntu/+ppas">PPAs</a>, if it weren&#39;t almost
impossible to find a suitable PPA for your particular
purpose.<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> There&#39;s also the fact that once you switch to PPAs,
your package download speed drops by 2 orders of magnitude (or more,
if you&#39;re installing for a cloud server), which is a bit annoying when
one is using PPAs to install 100mb packages,<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup> but I could put
up with that if everything else was decent. I&#39;m currently
running <a href="https://rvm.io/">rvm</a>
and <a href="https://github.com/creationix/nvm">nvm</a> on this machine, not
because I really need them, but because it&#39;s the most convenient way
to keep my versions of Ruby and Nodejs up-to-date. Sure, my xterms
&amp; <a href="https://www.gnu.org/software/screen/">screen</a> sessions start
noticably slower, but I can just buy faster cpus!</p>

<p>Clearly, the thing to do would be to build my own binary debs. After
all, I&#39;m a fairly sophisticated unix person, the tools are freely
available and documented. Should be no problem, right?</p>

<p>I&#39;ve tried building my own debs. God knows, I&#39;ve tried. It shouldn&#39;t
be hard to say &quot;I have a git repo, it builds. I want to change the
build a bit, add some metadata, build it, and tarball the build.&quot; Yet
somehow it is. The deb tools apparently designed to do this appear to
violently resist the process. I assume, on the
<a href="https://en.wikipedia.org/wiki/Principle_of_charity">Principle of Charity</a>,
that the underlying deb tools are heavily optimized for a world of
software distribution that no longer exists, rather than being some
kind of clever prank to annoy me.<sup id="fnref4"><a href="#fn4" rel="footnote">4</a></sup></p>

<p>There&#39;s also Jordan Sissel&#39;s <a href="https://github.com/jordansissel/fpm">fpm</a>.
I like Sissel a lot; I use
his <a href="https://github.com/jordansissel/keynav">keynav</a> every day. But I
do think that as a way to easily package anything for anywhere, it&#39;s
got some ways to go. I wish him luck though.</p>

<p>Or you can build from source. I remember using Slackware back in 2003
or so. I didn&#39;t like it.</p>

<p>Still, I continue to build uwsgi from source for my production servers
(it&#39;s the easiest way around the python/uwsgi/uwsgi-plugin-python
dependency clusterfuck). I also have to install Nodejs from tarball
binaries and several other key packages in ugly, manual ways. At least
they&#39;re programmatically-provisioned, semi-disposable cloud servers,
so you can sort of pretend it&#39;s not happening. Doing this on one&#39;s own
dev machine feels horrible. Canonical should just announce on their
website &quot;We give up, use <a href="https://www.vagrantup.com/">vagrant</a>.&quot;</p>

<p>When I got my first Arch environment up and running, I was happy to
see that they&#39;d included my xkb-config change to turn the PrtSc key on
my Thinkpad into a second Windows key (or META4 or whatever). I&#39;d
given up hope of that ever being included in Ubuntu, and given the
difficulty of building and switching to a build of xkb-config, I&#39;d
given up hope of using it in subsequent dev machines for the
forseeable future. It may be a small thing, but the fact that I can
just install X and then do <code class="inline-code">setxkbmap -options altwin:prtsc</code><sup id="fnref5"><a href="#fn5" rel="footnote">5</a></sup>
somehow means a lot to me.</p>

<p>So far, I&#39;ve not had occasion to use any of the more advanced Arch
packaging approaches, such as <a href="https://aur.archlinux.org/">AUR</a> or
making my own custom <a href="https://wiki.archlinux.org/index.php/PKGBUILD">PKGBUILDs</a>.
Given the how well plain old <code class="inline-code">pacman</code> works, it hardly seems worth
considering. However, a friend<sup id="fnref6"><a href="#fn6" rel="footnote">6</a></sup> who shares my opinion of the Debian
packaging process says that in contrast, Arch just works. I know that
on the few occasions I&#39;ve had to look at PKGBUILD files, they seem
super-straightforward.</p>

<p>So I&#39;m stepping into the brave new world of real linux distros. I also
plan to use more of it on cloud machines. I always thought &quot;Ubuntu
Server&quot; was a bizarre concept. The only reason it ever made sense was
lots of Linux people use Ubuntu, so Ubuntu Server would be familiar to
them. But the problems of Ubuntu are even more problematic for
servers. The only real way to configure servers is the ugly old unix
guts way, And the Arch guts are way nicer. The fact that, in theory, I
don&#39;t know where anything is on arch is hardly a problem because
everything is so much more straightforward. If I was a unix
hepatoscoper, I know which one would make me feel good about the
future of software.</p>

<p>Of course, now that I&#39;m a more sophisticated developer, it&#39;s going to
go somewhat more nicely. I&#39;m still waiting for my new Thinkpad to
arrive, but I&#39;ve got an ansible setup all ready to go, which I&#39;ve
tested on some recycling-grade laptop lying around the office. After
booting arch, I install ssh, python2, and set sshd to allow root
login. The first Ansible playbook logs in, creates my user, authorizes
my keys, and disables root login. The second playbook actually
sets up my environment. It&#39;s pretty sweet.</p>

<p>Now I just need Arch stickers.</p>

<div class="footnotes">
<hr>
<ol>

<li id="fn1">
<p>I might have had to log out &amp; back in again too; I can&#39;t
remember.&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
</li>

<li id="fn2">
<p>You can&#39;t filter PPA search results according to Ubuntu
release, for instance, let alone by version-which-is-packaged. You
end up manually looking through the contents of dozens of
abandoned PPAs trying to find one which will work for you. One day
I sat down and tried to use
the <a href="https://help.launchpad.net/API">launchpad api</a> to make it
easier to find usable PPAs. Then I said, &quot;What the fuck am I
doing?&quot;&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
</li>

<li id="fn3">
<p>There&#39;s actually a PPA which serves up daily builds of
Chromium, at a staggering 80kbps download speed. I&#39;m not totally
sure who this is aimed at.&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
</li>

<li id="fn4">
<p>I picture the Debian technical committee, having hacked
my webcam, watching me try to build my NodeJS deb and laughing
uproarously.&nbsp;<a href="#fnref4" rev="footnote">&#8617;</a></p>
</li>

<li id="fn5">
<p>I don&#39;t actually know if that&#39;s the exact command; I&#39;m
typing this on my old Ubuntu machine and don&#39;t have the code or
the Arch machine handy.&nbsp;<a href="#fnref5" rev="footnote">&#8617;</a></p>
</li>

<li id="fn6">
<p>He (very sensibly) doesn&#39;t want his name associated with
this blog.&nbsp;<a href="#fnref6" rev="footnote">&#8617;</a></p>
</li>

</ol>
</div>

    </div>
  </article>

      </div>
    </div>
    <div id="sidebar-col">
      <div id="sidebar">
        <h2 class="sidebar-title-top">Recent Articles</h2>
<ol class="sidebar-list">
    <li><a href="moving-to-arch.html">Moving To Arch Linux: Human...</a> <span>30 May</span></li>
    <li><a href="marshmallow-select.html">marshmallow-select: alpha j...</a> <span>26 May</span></li>
    <li><a href="codebloggers-apology.html">A Codeblogger's Apology</a> <span>24 May</span></li>
</ol>

<h2 class="sidebar-title">Tags</h2>
<ol class="sidebar-list">
    <li><a href="tags/intro.html">intro (1)</a></li>
    <li><a href="tags/arch.html">arch (1)</a></li>
    <li><a href="tags/linux.html">linux (1)</a></li>
    <li><a href="tags/distos.html">distos (1)</a></li>
    <li><a href="tags/ubuntu.html">ubuntu (1)</a></li>
    <li><a href="tags/python.html">python (1)</a></li>
    <li><a href="tags/marshmallow.html">marshmallow (1)</a></li>
    <li><a href="tags/sqlalchemy.html">sqlalchemy (1)</a></li>
    <li><a href="tags/open-source.html">open-source (1)</a></li>
    <li><a href="tags/marshmallow-select.html">marshmallow-select (1)</a></li>
</ol>

<h2 class="sidebar-title">By Year</h2>
<ol class="sidebar-list">
    <li><a href="ark/2017.html">2017 (3)</a></li>
</ol>

      </div>
    </div>
  </div>

    </div>
  </body>
</html>
